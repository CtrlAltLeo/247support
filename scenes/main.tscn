[gd_scene load_steps=7 format=2]

[ext_resource path="res://terminal/CommandProcessor.tscn" type="PackedScene" id=1]
[ext_resource path="res://models/computer/old_computer.glb" type="PackedScene" id=2]
[ext_resource path="res://terminal/terminal.tscn" type="PackedScene" id=3]
[ext_resource path="res://terminal/command_effects.tscn" type="PackedScene" id=4]
[ext_resource path="res://terminal/commands/bee.gd" type="Script" id=5]

[sub_resource type="ViewportTexture" id=1]
viewport_path = NodePath("TerminalStack/ViewportContainer/Viewport")

[node name="main" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.9224, 1.18669, 0 )
current = true

[node name="old_computer" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0376053, 0, 0.350441 )

[node name="Sprite3D" type="Sprite3D" parent="old_computer"]
transform = Transform( -6.59538e-09, 0, 0.499897, 0, 0.197502, 0, -0.152923, 0, -2.21464e-08, 0.749251, 1.02887, -0.167696 )
flip_v = true
texture = SubResource( 1 )

[node name="TerminalStack" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -1162.44
margin_top = 8.04157
margin_right = -1162.44
margin_bottom = 8.04156
mouse_default_cursor_shape = 3

[node name="ViewportContainer" type="ViewportContainer" parent="TerminalStack"]
margin_left = -0.0738525
margin_top = 8.01807
margin_right = 1023.93
margin_bottom = 608.018

[node name="Viewport" type="Viewport" parent="TerminalStack/ViewportContainer"]
size = Vector2( 1024, 600 )
transparent_bg = true
handle_input_locally = false
render_target_update_mode = 3

[node name="terminalInput" parent="TerminalStack/ViewportContainer/Viewport" instance=ExtResource( 3 )]

[node name="CommandProcessor" parent="TerminalStack" instance=ExtResource( 1 )]

[node name="monkey" parent="TerminalStack/CommandProcessor" index="1"]
keyword = "bumblebee"

[node name="command_effects" parent="TerminalStack/CommandProcessor/monkey" index="0" instance=ExtResource( 4 )]
script = ExtResource( 5 )

[connection signal="command" from="TerminalStack/ViewportContainer/Viewport/terminalInput" to="TerminalStack/CommandProcessor" method="_on_terminalInput_command"]
[connection signal="print_terminal" from="TerminalStack/CommandProcessor" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="append_history"]
[connection signal="clear" from="TerminalStack/CommandProcessor/clear/clearcmd" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="clear_history"]
[connection signal="bee" from="TerminalStack/CommandProcessor/monkey/command_effects" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="_on_command_effects_bee"]

[editable path="TerminalStack/CommandProcessor"]
