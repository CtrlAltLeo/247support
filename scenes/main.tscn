[gd_scene load_steps=23 format=2]

[ext_resource path="res://terminal/CommandProcessor.tscn" type="PackedScene" id=1]
[ext_resource path="res://models/computer/old_computer.glb" type="PackedScene" id=2]
[ext_resource path="res://terminal/terminal.tscn" type="PackedScene" id=3]
[ext_resource path="res://terminal/command_effects.tscn" type="PackedScene" id=4]
[ext_resource path="res://terminal/commands/bee.gd" type="Script" id=5]
[ext_resource path="res://terminal/tasks/TaskMaster.tscn" type="PackedScene" id=6]
[ext_resource path="res://terminal/_command.tscn" type="PackedScene" id=7]
[ext_resource path="res://terminal/commands/test.gd" type="Script" id=8]
[ext_resource path="res://terminal/commands/password_reset.gd" type="Script" id=9]
[ext_resource path="res://shaders/vhstest.tres" type="Shader" id=10]
[ext_resource path="res://icon.png" type="Texture" id=11]
[ext_resource path="res://models/Phone.tscn" type="PackedScene" id=12]
[ext_resource path="res://orphaned_scripts/chaseCam.gd" type="Script" id=13]
[ext_resource path="res://meta_scenes/clickableArea.tscn" type="PackedScene" id=14]
[ext_resource path="res://meta_scenes/EventHandler.tscn" type="PackedScene" id=15]
[ext_resource path="res://scenes/arm.tscn" type="PackedScene" id=16]

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 10 )
shader_param/overlay = true
shader_param/scanlines_opacity = 0.4
shader_param/scanlines_width = 0.25
shader_param/grille_opacity = 0.3
shader_param/resolution = Vector2( 640, 480 )
shader_param/pixelate = true
shader_param/roll = true
shader_param/roll_speed = 8.0
shader_param/roll_size = 15.0
shader_param/roll_variation = 1.8
shader_param/distort_intensity = 0.05
shader_param/noise_opacity = 0.4
shader_param/noise_speed = 5.0
shader_param/static_noise_intensity = 0.06
shader_param/aberration = 0.03
shader_param/brightness = 1.4
shader_param/discolor = true
shader_param/warp_amount = 1.0
shader_param/clip_warp = false
shader_param/vignette_intensity = 0.4
shader_param/vignette_opacity = 0.5

[sub_resource type="ShaderMaterial" id=3]
render_priority = 5
shader = ExtResource( 10 )
shader_param/overlay = true
shader_param/scanlines_opacity = 0.217
shader_param/scanlines_width = 0.25
shader_param/grille_opacity = 0.3
shader_param/resolution = Vector2( 960, 720 )
shader_param/pixelate = true
shader_param/roll = true
shader_param/roll_speed = 6.0
shader_param/roll_size = 12.5
shader_param/roll_variation = 1.76
shader_param/distort_intensity = 0.05
shader_param/noise_opacity = 0.4
shader_param/noise_speed = 5.0
shader_param/static_noise_intensity = 0.035
shader_param/aberration = 0.03
shader_param/brightness = 1.4
shader_param/discolor = false
shader_param/warp_amount = 1.0
shader_param/clip_warp = false
shader_param/vignette_intensity = 0.4
shader_param/vignette_opacity = 0.2

[sub_resource type="ViewportTexture" id=1]
viewport_path = NodePath("TerminalStack/ViewportContainer/Viewport")

[sub_resource type="BoxShape" id=5]

[sub_resource type="BoxShape" id=4]

[sub_resource type="Environment" id=6]
background_mode = 1

[node name="main" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.67, 1.187, 0.109565 )
current = true
script = ExtResource( 13 )

[node name="SpotLight" type="SpotLight" parent="Camera"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.21541e-08, 0, 1.18933 )
spot_angle = 50.7155

[node name="TerminalStack" type="Control" parent="."]
material = SubResource( 2 )
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -1162.44
margin_top = 8.04157
margin_right = -1162.44
margin_bottom = 8.04156
mouse_filter = 2
mouse_default_cursor_shape = 3

[node name="ViewportContainer" type="ViewportContainer" parent="TerminalStack"]
margin_left = -0.0738525
margin_top = 8.01807
margin_right = 1023.93
margin_bottom = 608.018

[node name="Viewport" type="Viewport" parent="TerminalStack/ViewportContainer"]
size = Vector2( 1024, 600 )
transparent_bg = true
handle_input_locally = false
render_target_update_mode = 3

[node name="terminalInput" parent="TerminalStack/ViewportContainer/Viewport" instance=ExtResource( 3 )]

[node name="Sprite" type="Sprite" parent="TerminalStack/ViewportContainer/Viewport/terminalInput"]
material = SubResource( 3 )
position = Vector2( 513.806, 301.059 )
scale = Vector2( 16, 9.399 )
texture = ExtResource( 11 )

[node name="CommandProcessor" parent="TerminalStack" instance=ExtResource( 1 )]

[node name="monkey" parent="TerminalStack/CommandProcessor" index="1"]
keyword = "bumblebee"

[node name="command_effects" parent="TerminalStack/CommandProcessor/monkey" index="0" instance=ExtResource( 4 )]
script = ExtResource( 5 )

[node name="test" parent="TerminalStack/CommandProcessor" instance=ExtResource( 7 )]
keyword = "test"

[node name="cmdtest" parent="TerminalStack/CommandProcessor/test" instance=ExtResource( 4 )]
script = ExtResource( 8 )

[node name="pswreset" parent="TerminalStack/CommandProcessor" instance=ExtResource( 7 )]
keyword = "psreset"

[node name="command_effects" parent="TerminalStack/CommandProcessor/pswreset" instance=ExtResource( 4 )]
script = ExtResource( 9 )
TaskMasterPath = NodePath("../../../TaskMaster")
TerminalPath = NodePath("../../../ViewportContainer/Viewport/terminalInput")

[node name="removeacc" parent="TerminalStack/CommandProcessor" instance=ExtResource( 7 )]
keyword = "rmvusr"

[node name="command_effects" parent="TerminalStack/CommandProcessor/removeacc" instance=ExtResource( 4 )]
script = ExtResource( 9 )
TaskMasterPath = NodePath("../../../TaskMaster")
TerminalPath = NodePath("../../../ViewportContainer/Viewport/terminalInput")

[node name="access" parent="TerminalStack/CommandProcessor" instance=ExtResource( 7 )]
keyword = "psreset"

[node name="command_effects" parent="TerminalStack/CommandProcessor/access" instance=ExtResource( 4 )]
script = ExtResource( 9 )
TaskMasterPath = NodePath("../../../TaskMaster")
TerminalPath = NodePath("../../../ViewportContainer/Viewport/terminalInput")

[node name="TaskMaster" parent="TerminalStack" instance=ExtResource( 6 )]

[node name="Objects" type="Spatial" parent="."]

[node name="old_computer" parent="Objects" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0376053, 0, 0.350441 )

[node name="Sprite3D" type="Sprite3D" parent="Objects/old_computer"]
transform = Transform( -6.59538e-09, 0, 0.499897, 0, 0.197502, 0, -0.152923, 0, -2.21464e-08, 0.749251, 1.02887, -0.167696 )
flip_v = true
texture = SubResource( 1 )

[node name="computerClick" parent="Objects/old_computer" instance=ExtResource( 14 )]

[node name="CollisionShape" type="CollisionShape" parent="Objects/old_computer/computerClick"]
transform = Transform( 1, 0, 0, 0, 1.17573, 0, 0, 0, 0.63922, 0.249668, 1.03172, -2.04163 )
shape = SubResource( 5 )

[node name="Phone" parent="Objects" instance=ExtResource( 12 )]
transform = Transform( -3.94649, 0, -3.07005, 0, 5, 0, 3.07005, 0, -3.94649, 0.11, 0.03, 2.228 )

[node name="clickableArea" parent="Objects/Phone" instance=ExtResource( 14 )]

[node name="CollisionShape" type="CollisionShape" parent="Objects/Phone/clickableArea"]
transform = Transform( 0.150751, 0, 0.00217643, 0, 0.141504, 0, 0.00217643, 0, 0.149646, 0, 0.0886178, 0 )
shape = SubResource( 4 )

[node name="arm" parent="Objects" instance=ExtResource( 16 )]
transform = Transform( 0.367339, 0, -0.339208, 0, 0.5, 0, 0.339208, 0, 0.367339, 2.81817, 0.430914, -0.334138 )

[node name="male" parent="Objects/arm/Skeleton" index="0"]
transform = Transform( 0.999814, 0.0185927, -0.00514824, -0.006094, 0.0511743, -0.998671, -0.0183045, 0.998517, 0.0512781, 0, 0, 0 )

[node name="EventHandler" parent="." instance=ExtResource( 15 )]
TaskMasterPath = NodePath("../TerminalStack/TaskMaster")
PhonePath = NodePath("../Objects/Phone")
TerminalPath = NodePath("../TerminalStack/ViewportContainer/Viewport/terminalInput")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[connection signal="command" from="TerminalStack/ViewportContainer/Viewport/terminalInput" to="TerminalStack/CommandProcessor" method="_on_terminalInput_command"]
[connection signal="print_terminal" from="TerminalStack/CommandProcessor" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="append_history"]
[connection signal="clear" from="TerminalStack/CommandProcessor/clear/clearcmd" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="clear_history"]
[connection signal="bee" from="TerminalStack/CommandProcessor/monkey/command_effects" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="_on_command_effects_bee"]
[connection signal="error" from="TerminalStack/CommandProcessor/test/cmdtest" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="start_error"]
[connection signal="test_task" from="TerminalStack/CommandProcessor/test/cmdtest" to="TerminalStack/TaskMaster" method="add_task"]
[connection signal="clicked" from="Objects/old_computer/computerClick" to="TerminalStack/ViewportContainer/Viewport/terminalInput" method="stop_error"]
[connection signal="clicked" from="Objects/old_computer/computerClick" to="Objects/arm" method="hit"]
[connection signal="clicked" from="Objects/Phone/clickableArea" to="Objects/Phone" method="_on_clickableArea_clicked"]

[editable path="TerminalStack/CommandProcessor"]
[editable path="Objects/arm"]
